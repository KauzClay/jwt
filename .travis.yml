language: go
sudo: false
go:
- 1.9.x
- 1.10.x

install:
- go get -t ./...
- go get github.com/mattn/goveralls

script:
- go fmt ./...
- go vet ./...
- go test -v
- go test -v --race
- go test -v -covermode=count -coverprofile=coverage.out

after_success:
- if [[ "$TRAVIS_GO_VERSION" == 1.10.* ]] ; then $HOME/gopath/bin/goveralls -coverprofile coverage.out -service travis-ci; fi
